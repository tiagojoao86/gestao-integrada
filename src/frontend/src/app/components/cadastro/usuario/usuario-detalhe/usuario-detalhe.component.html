<gi-app-base [title]="titulo" [actions]="acoesTela" [goBackFn]="goBackFn.bind(this)">
  <div body-content>
    <div class="form" [formGroup]="form">
      <p-iftalabel class="w-50">
        <input pInputText id="nomeUsuario" formControlName="nome" />
        <label for="nomeUsuario" i18n>Nome</label>
        <small *ngIf="isControlInvalid('nome')"
          i18n>Esse campo não pode ser em branco.</small
        >
      </p-iftalabel>
      <p-iftalabel class="w-50">
        <input pInputText id="loginUsuario" formControlName="login" />
        <label for="loginUsuario" i18n>Login</label>
        <small *ngIf="isControlInvalid('login')"
          i18n>Esse campo não pode ser em branco.</small
        >
      </p-iftalabel>
      <p-iftalabel class="w-50">
        <input
          pInputText
          id="senhaUsuario"
          formControlName="senha"
          type="password"
        />
        <label for="senhaUsuario" i18n>Senha</label>
      </p-iftalabel>

      <!-- Perfis selection -->
      <div class="perfis-selection w-100 mt-4">
        <div class="perfis-column">
          <label for="perfilFilterInput" i18n>Perfis disponíveis</label>
          <input id="perfilFilterInput" pInputText placeholder="Filtrar" [(ngModel)]="perfilFilter" [ngModelOptions]="{standalone: true}" />
          <ul class="perfis-list">
            <li *ngFor="let p of getAvailablePerfisFiltered()">
              <span>{{ p.nome }}</span>
              <button type="button" (click)="adicionarPerfil(p)">+</button>
            </li>
          </ul>
        </div>

        <div class="perfis-column">
          <h4 i18n>Perfis vinculados</h4>
          <ul class="perfis-list">
            <li *ngFor="let p of selectedPerfis">
              <span>{{ p.nome }}</span>
              <button type="button" (click)="removerPerfil(p)">-</button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</gi-app-base>
